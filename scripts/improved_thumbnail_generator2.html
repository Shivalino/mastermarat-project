<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MasterMarat Thumbnail Generator - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π</title>
    <style>
      body {
        margin: 0;
        padding: 20px;
        font-family:
          -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial,
          sans-serif;
        background: #f5f5f5;
        min-height: 100vh;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        display: flex;
        gap: 40px;
        align-items: start;
      }

      .canvas-section {
        flex: 1;
        min-width: 0;
      }

      .controls-section {
        width: 350px;
        flex-shrink: 0;
      }

      /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
      @media (max-width: 1200px) {
        .container {
          flex-direction: column;
          gap: 30px;
        }

        .controls-section {
          width: 100%;
        }
      }

      /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç */
      .thumbnail-canvas.horizontal {
        position: relative;
        width: 1280px;
        height: 720px;
        background: linear-gradient(135deg, #98c41e 0%, #3d968c 100%);
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 12px 48px rgba(0, 0, 0, 0.25);
        transform: scale(0.7);
        transform-origin: top left;
        margin-bottom: 120px;
      }

      /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç */
      .thumbnail-canvas.vertical {
        position: relative;
        width: 720px;
        height: 1280px;
        background: linear-gradient(135deg, #98c41e 0%, #3d968c 100%);
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 12px 48px rgba(0, 0, 0, 0.25);
        transform: scale(0.4);
        transform-origin: top left;
        margin-bottom: 200px;
      }

      @media (max-width: 1200px) {
        .thumbnail-canvas.horizontal {
          transform: scale(0.5);
          margin-bottom: 80px;
        }

        .thumbnail-canvas.vertical {
          transform: scale(0.3);
          margin-bottom: 120px;
        }
      }

      @media (max-width: 800px) {
        .thumbnail-canvas.horizontal {
          transform: scale(0.35);
          margin-bottom: 60px;
        }

        .thumbnail-canvas.vertical {
          transform: scale(0.25);
          margin-bottom: 100px;
        }
      }

      .background-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: none;
        opacity: 0.3;
        background-size: cover;
        background-position: center;
        transition: opacity 0.3s ease;
      }

      /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø */
      .brand-logo.horizontal {
        position: absolute;
        top: 40px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(255, 255, 255, 0.95);
        color: #2c5aa0;
        padding: 16px 32px;
        border-radius: 30px;
        font-size: 32px;
        font-weight: bold;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        z-index: 10;
        border: 2px solid #3d968c;
      }

      /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø */
      .brand-logo.vertical {
        position: absolute;
        top: 60px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(255, 255, 255, 0.95);
        color: #2c5aa0;
        padding: 20px 40px;
        border-radius: 35px;
        font-size: 36px;
        font-weight: bold;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        z-index: 10;
        border: 2px solid #3d968c;
      }

      /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ Play */
      .play-button.horizontal {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 140px;
        height: 140px;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.25);
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 10;
      }

      /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ Play */
      .play-button.vertical {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 160px;
        height: 160px;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.25);
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 10;
      }

      .play-button:hover {
        transform: translate(-50%, -50%) scale(1.1);
        box-shadow: 0 16px 50px rgba(0, 0, 0, 0.3);
      }

      .play-button.horizontal::after {
        content: '';
        width: 0;
        height: 0;
        border-left: 42px solid #3d968c;
        border-top: 26px solid transparent;
        border-bottom: 26px solid transparent;
        margin-left: 14px;
      }

      .play-button.vertical::after {
        content: '';
        width: 0;
        height: 0;
        border-left: 48px solid #3d968c;
        border-top: 30px solid transparent;
        border-bottom: 30px solid transparent;
        margin-left: 16px;
      }

      /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
      .main-title.horizontal {
        position: absolute;
        top: 140px;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(135deg, #2c5aa0 0%, #3d968c 100%);
        color: white;
        padding: 50px 60px;
        border-radius: 24px;
        font-size: 48px;
        font-weight: bold;
        line-height: 1.2;
        text-align: center;
        box-shadow: 0 12px 40px rgba(44, 90, 160, 0.4);
        width: 1000px;
        min-width: 320px;
        max-width: calc(100% - 80px);
        z-index: 5;
      }

      /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
      .main-title.vertical {
        position: absolute;
        top: 200px;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(135deg, #2c5aa0 0%, #3d968c 100%);
        color: white;
        padding: 60px 40px;
        border-radius: 24px;
        font-size: 42px;
        font-weight: bold;
        line-height: 1.3;
        text-align: center;
        box-shadow: 0 12px 40px rgba(44, 90, 160, 0.4);
        width: 580px;
        min-width: 320px;
        max-width: calc(100% - 80px);
        z-index: 5;
      }
      .play-button {
        display: none !important;
      }
      /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ */
      .benefits-list.horizontal {
        position: absolute;
        bottom: 40px;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(135deg, #3d968c 0%, #2a6b64 100%);
        color: white;
        padding: 40px 50px;
        border-radius: 20px;
        font-size: 32px;
        line-height: 1.6;
        box-shadow: 0 12px 40px rgba(61, 150, 140, 0.4);
        width: 1100px;
        min-width: 320px;
        max-width: calc(100% - 80px);
        z-index: 5;
      }

      /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ */
      .benefits-list.vertical {
        position: absolute;
        bottom: 80px;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(135deg, #3d968c 0%, #2a6b64 100%);
        color: white;
        padding: 50px 40px;
        border-radius: 20px;
        font-size: 28px;
        line-height: 1.6;
        box-shadow: 0 12px 40px rgba(61, 150, 140, 0.4);
        width: 580px;
        min-width: 320px;
        max-width: calc(100% - 80px);
        z-index: 5;
      }

      .benefits-list ul {
        margin: 0;
        padding: 0;
        list-style: none;
      }

      .benefits-list li {
        margin-bottom: 16px;
        padding-left: 40px;
        position: relative;
      }

      .benefits-list li:last-child {
        margin-bottom: 0;
      }

      .benefits-list li::before {
        content: '‚úì';
        position: absolute;
        left: 0;
        color: #b5e3dc;
        font-size: 36px;
        font-weight: bold;
        line-height: 1;
      }

      .controls {
        background: white;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        height: fit-content;
        position: sticky;
        top: 20px;
      }

      .controls h3 {
        margin-top: 0;
        color: #2a6b64;
        font-size: 24px;
        margin-bottom: 25px;
      }

      .control-group {
        margin-bottom: 25px;
      }

      .control-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #333;
        font-size: 16px;
      }

      .control-group input,
      .control-group textarea {
        width: 100%;
        padding: 12px 16px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 16px;
        transition: border-color 0.3s ease;
        box-sizing: border-box;
      }

      .control-group input:focus,
      .control-group textarea:focus {
        outline: none;
        border-color: #3d968c;
      }

      .control-group textarea {
        height: 120px;
        resize: vertical;
        font-family: inherit;
      }

      .format-toggle {
        display: flex;
        background: #f8f9fa;
        border-radius: 8px;
        padding: 4px;
        margin-bottom: 20px;
      }

      .format-toggle button {
        flex: 1;
        padding: 12px;
        border: none;
        border-radius: 6px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        background: transparent;
        color: #666;
      }

      .format-toggle button.active {
        background: #3d968c;
        color: white;
        box-shadow: 0 2px 8px rgba(61, 150, 140, 0.3);
      }

      .format-toggle button:hover:not(.active) {
        background: #e8f5f3;
        color: #3d968c;
      }

      .color-picker {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        margin-top: 10px;
      }

      .color-option {
        width: 50px;
        height: 50px;
        border-radius: 12px;
        cursor: pointer;
        border: 3px solid transparent;
        transition: all 0.3s ease;
        position: relative;
      }

      .color-option:hover {
        transform: scale(1.1);
        border-color: #666;
      }

      .color-option.active {
        border-color: #2c5aa0;
        transform: scale(1.15);
      }

      .color-option.active::after {
        content: '‚úì';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-size: 20px;
        font-weight: bold;
        text-shadow: 0 0 4px rgba(0, 0, 0, 0.5);
      }

      .file-input-wrapper {
        position: relative;
        display: inline-block;
        cursor: pointer;
        width: 100%;
      }

      .file-input-wrapper input[type='file'] {
        position: absolute;
        opacity: 0;
        width: 100%;
        height: 100%;
        cursor: pointer;
      }

      .file-input-label {
        display: block;
        padding: 12px 16px;
        background: #f8f9fa;
        border: 2px dashed #3d968c;
        border-radius: 8px;
        text-align: center;
        color: #3d968c;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .file-input-label:hover {
        background: #e8f5f3;
        border-color: #2a6b64;
      }

      .reset-bg-btn {
        margin-top: 10px;
        padding: 8px 16px;
        background: #dc3545;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
        transition: background 0.3s ease;
      }

      .reset-bg-btn:hover {
        background: #c82333;
      }

      .download-btn {
        width: 100%;
        padding: 16px;
        background: linear-gradient(135deg, #3d968c 0%, #2a6b64 100%);
        color: white;
        border: none;
        border-radius: 12px;
        font-size: 18px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 16px rgba(61, 150, 140, 0.3);
      }

      .download-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 24px rgba(61, 150, 140, 0.4);
      }

      .download-btn:active {
        transform: translateY(0);
      }

      .tips {
        background: linear-gradient(135deg, #e8f5f3 0%, #f0f9f7 100%);
        border: 1px solid #3d968c;
        border-radius: 12px;
        padding: 20px;
        margin-top: 25px;
        font-size: 14px;
        line-height: 1.6;
      }

      .tips h4 {
        margin-top: 0;
        color: #2a6b64;
        font-size: 18px;
        margin-bottom: 15px;
      }

      .tips ul {
        margin: 0;
        padding-left: 20px;
      }

      .tips li {
        margin-bottom: 8px;
      }

      .format-info {
        background: #fff3cd;
        border: 1px solid #ffeaa7;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 20px;
        font-size: 14px;
        transition: all 0.3s ease;
      }

      .format-info strong {
        color: #856404;
      }

      .format-info.vertical {
        background: #e8f5f3;
        border-color: #3d968c;
      }

      .format-info.vertical strong {
        color: #2a6b64;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="canvas-section">
        <div class="thumbnail-canvas horizontal" id="canvas">
          <div class="background-overlay" id="backgroundOverlay"></div>
          <div class="brand-logo horizontal" id="brandLogo">
            mastermarat.com
          </div>
          <div class="play-button horizontal" id="playButton"></div>
          <div class="main-title horizontal" id="mainTitle">
            –û –≤–∞–∂–Ω–æ—Å—Ç–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞
          </div>
          <div class="benefits-list horizontal" id="benefitsList">
            <ul>
              <li>–î–≤–∏–∂–µ–Ω–∏–µ (–∑–¥–æ—Ä–æ–≤—ã–µ —Å—É—Å—Ç–∞–≤—ã)</li>
              <li>–í–æ–¥–Ω—ã–π –±–∞–ª–∞–Ω—Å (–∂–∏–¥–∫–æ—Å—Ç–∏ –≤ –æ—Ä–≥–∞–Ω–∏–∑–º–µ)</li>
              <li>–î—ã—Ö–∞–Ω–∏–µ (–±–µ–∑ –Ω–µ–≥–æ –æ—Å—Ç–∞–ª—å–Ω–æ–µ - –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω–æ)</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="controls-section">
        <div class="controls">
          <h3>üé® –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä</h3>

          <div class="control-group">
            <label>–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç:</label>
            <div class="format-toggle">
              <button class="active" onclick="switchFormat('horizontal')">
                üì∫ –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π<br />
                <small>1280√ó720 (16:9)</small>
              </button>
              <button onclick="switchFormat('vertical')">
                üì± –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π<br />
                <small>720√ó1280 (9:16)</small>
              </button>
            </div>
          </div>

          <div class="format-info" id="formatInfo">
            <strong>–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:</strong> 1280√ó720 (16:9)<br />
            <strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong> YouTube, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏, —à–∏—Ä–æ–∫–æ—Ñ–æ—Ä–º–∞—Ç–Ω—ã–µ
            –ø–ª–µ–µ—Ä–∞<br />
            <strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong> –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω –∑–∞ —Å–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–º–∏ —É–≥–ª–∞–º–∏
          </div>

          <div class="control-group">
            <label for="titleInput">–ó–∞–≥–æ–ª–æ–≤–æ–∫:</label>
            <input
              type="text"
              id="titleInput"
              value="–û –≤–∞–∂–Ω–æ—Å—Ç–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞"
            />
          </div>

          <div class="control-group">
            <label for="benefitsInput"
              >–ü—É–Ω–∫—Ç—ã —Å–ø–∏—Å–∫–∞ (–∫–∞–∂–¥—ã–π —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏):</label
            >
            <textarea
              id="benefitsInput"
              placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–∞–∂–¥—ã–π –ø—É–Ω–∫—Ç —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏..."
            >
–î–≤–∏–∂–µ–Ω–∏–µ (–∑–¥–æ—Ä–æ–≤—ã–µ —Å—É—Å—Ç–∞–≤—ã)
–í–æ–¥–Ω—ã–π –±–∞–ª–∞–Ω—Å (–∂–∏–¥–∫–æ—Å—Ç–∏ –≤ –æ—Ä–≥–∞–Ω–∏–∑–º–µ)
–î—ã—Ö–∞–Ω–∏–µ (–±–µ–∑ –Ω–µ–≥–æ –æ—Å—Ç–∞–ª—å–Ω–æ–µ - –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω–æ)</textarea
            >
          </div>

          <div class="control-group">
            <label>–¶–≤–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞:</label>
            <div class="color-picker">
              <div
                class="color-option active"
                style="
                  background: linear-gradient(135deg, #2c5aa0 0%, #3d968c 100%);
                "
                data-color="blue-green"
                title="–°–∏–Ω–∏–π-–∑–µ–ª–µ–Ω—ã–π"
              ></div>
              <div
                class="color-option"
                style="
                  background: linear-gradient(135deg, #3d968c 0%, #2a6b64 100%);
                "
                data-color="green"
                title="–ó–µ–ª–µ–Ω—ã–π"
              ></div>
              <div
                class="color-option"
                style="
                  background: linear-gradient(135deg, #f59b3a 0%, #e8851c 100%);
                "
                data-color="orange"
                title="–û—Ä–∞–Ω–∂–µ–≤—ã–π"
              ></div>
              <div
                class="color-option"
                style="
                  background: linear-gradient(135deg, #98c41e 0%, #3d968c 100%);
                "
                data-color="lime-green"
                title="–õ–∞–π–º-–∑–µ–ª–µ–Ω—ã–π"
              ></div>
              <div
                class="color-option"
                style="
                  background: linear-gradient(135deg, #b5e3dc 0%, #3d968c 100%);
                "
                data-color="light-green"
                title="–°–≤–µ—Ç–ª–æ-–∑–µ–ª–µ–Ω—ã–π"
              ></div>
            </div>
          </div>

          <div class="control-group">
            <label>–¶–≤–µ—Ç —Å–ø–∏—Å–∫–∞:</label>
            <div class="color-picker">
              <div
                class="color-option active"
                style="
                  background: linear-gradient(135deg, #3d968c 0%, #2a6b64 100%);
                "
                data-color="green"
                data-target="benefits"
                title="–ó–µ–ª–µ–Ω—ã–π"
              ></div>
              <div
                class="color-option"
                style="
                  background: linear-gradient(135deg, #2c5aa0 0%, #3d968c 100%);
                "
                data-color="blue-green"
                data-target="benefits"
                title="–°–∏–Ω–∏–π-–∑–µ–ª–µ–Ω—ã–π"
              ></div>
              <div
                class="color-option"
                style="
                  background: linear-gradient(135deg, #f59b3a 0%, #e8851c 100%);
                "
                data-color="orange"
                data-target="benefits"
                title="–û—Ä–∞–Ω–∂–µ–≤—ã–π"
              ></div>
              <div
                class="color-option"
                style="
                  background: linear-gradient(135deg, #98c41e 0%, #3d968c 100%);
                "
                data-color="lime-green"
                data-target="benefits"
                title="–õ–∞–π–º-–∑–µ–ª–µ–Ω—ã–π"
              ></div>
              <div
                class="color-option"
                style="
                  background: linear-gradient(135deg, #b5e3dc 0%, #3d968c 100%);
                "
                data-color="light-green"
                data-target="benefits"
                title="–°–≤–µ—Ç–ª–æ-–∑–µ–ª–µ–Ω—ã–π"
              ></div>
            </div>
          </div>

          <div class="control-group">
            <label for="logoInput">–¢–µ–∫—Å—Ç –ª–æ–≥–æ—Ç–∏–ø–∞:</label>
            <input type="text" id="logoInput" value="mastermarat.com" />
          </div>
          \

          <div class="control-group">
            <label>
              <input
                type="checkbox"
                id="showPlayButton"
                onchange="togglePlayButton()"
              />
              –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É Play (–¥–ª—è email –≤–µ—Ä—Å–∏–∏)
            </label>
          </div>

          <div class="control-group">
            <label for="backgroundInput"
              >–§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</label
            >
            <div class="file-input-wrapper">
              <input type="file" id="backgroundInput" accept="image/*" />
              <label for="backgroundInput" class="file-input-label">
                üìé –í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è —Ñ–æ–Ω–∞
              </label>
            </div>
            <button
              type="button"
              class="reset-bg-btn"
              onclick="resetBackground()"
            >
              –£–±—Ä–∞—Ç—å —Ñ–æ–Ω
            </button>
          </div>

          <div class="control-group">
            <label>–§–æ—Ä–º–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞:</label>
            <div style="display: flex; gap: 10px; margin-top: 10px">
              <label
                style="
                  display: flex;
                  align-items: center;
                  gap: 8px;
                  cursor: pointer;
                "
              >
                <input type="radio" name="exportFormat" value="png" checked />
                <span>PNG (–±–µ–∑ –ø–æ—Ç–µ—Ä—å)</span>
              </label>
              <label
                style="
                  display: flex;
                  align-items: center;
                  gap: 8px;
                  cursor: pointer;
                "
              >
                <input type="radio" name="exportFormat" value="jpeg" />
                <span>JPEG (–¥–ª—è R2)</span>
              </label>
            </div>
          </div>

          <button class="download-btn" onclick="downloadThumbnail()">
            üì∏ –°–∫–∞—á–∞—Ç—å Thumbnail
          </button>

          <div class="tips">
            <h4>üí° –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:</h4>
            <ul>
              <li>
                <strong>–§–æ—Ä–º–∞—Ç:</strong> –í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π –∏–ª–∏
                –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π
              </li>
              <li><strong>–ó–∞–≥–æ–ª–æ–≤–æ–∫:</strong> –í–≤–µ–¥–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç —É—Ä–æ–∫–∞</li>
              <li><strong>–°–ø–∏—Å–æ–∫:</strong> –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á–µ–≤—ã–µ –ø—É–Ω–∫—Ç—ã</li>
              <li><strong>–¶–≤–µ—Ç–∞:</strong> –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–µ —Å–æ—á–µ—Ç–∞–Ω–∏—è</li>
              <li>
                <strong>–§–æ–Ω:</strong> –î–æ–±–∞–≤—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç
              </li>
            </ul>

            <h4>üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ñ–æ—Ä–º–∞—Ç—É:</h4>
            <ul>
              <li>
                <strong>–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π:</strong> YouTube, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏, —à–∏—Ä–æ–∫–∏–π
                —ç–∫—Ä–∞–Ω
              </li>
              <li>
                <strong>–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π:</strong> Stories, Reels, –º–æ–±–∏–ª—å–Ω—ã–µ
                –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
              </li>
              <li><strong>PNG:</strong> –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω, –ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ</li>
              <li><strong>JPEG:</strong> –º–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –¥–ª—è R2</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <script>
      let currentFormat = 'horizontal';

      // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞
      function switchFormat(format) {
        currentFormat = format;

        // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
        document.querySelectorAll('.format-toggle button').forEach(btn => {
          btn.classList.remove('active');
        });
        event.target.classList.add('active');

        // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
        const canvas = document.getElementById('canvas');
        const brandLogo = document.getElementById('brandLogo');
        const playButton = document.getElementById('playButton');
        const mainTitle = document.getElementById('mainTitle');
        const benefitsList = document.getElementById('benefitsList');
        const formatInfo = document.getElementById('formatInfo');

        // –£–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ä—ã–µ –∫–ª–∞—Å—Å—ã
        canvas.classList.remove('horizontal', 'vertical');
        brandLogo.classList.remove('horizontal', 'vertical');
        playButton.classList.remove('horizontal', 'vertical');
        mainTitle.classList.remove('horizontal', 'vertical');
        benefitsList.classList.remove('horizontal', 'vertical');
        formatInfo.classList.remove('vertical');

        // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã
        canvas.classList.add(format);
        brandLogo.classList.add(format);
        playButton.classList.add(format);
        mainTitle.classList.add(format);
        benefitsList.classList.add(format);

        // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–æ—Ä–º–∞—Ç–µ
        if (format === 'vertical') {
          formatInfo.classList.add('vertical');
          formatInfo.innerHTML = `
                    <strong>–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:</strong> 720√ó1280 (9:16)<br>
                    <strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong> Stories, Reels, –º–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è<br>
                    <strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong> –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –Ω–∞ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–∞—Ö
                `;
        } else {
          formatInfo.innerHTML = `
                    <strong>–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:</strong> 1280√ó720 (16:9)<br>
                    <strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong> YouTube, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏, —à–∏—Ä–æ–∫–æ—Ñ–æ—Ä–º–∞—Ç–Ω—ã–µ –ø–ª–µ–µ—Ä–∞<br>
                    <strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong> –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω –∑–∞ —Å–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–º–∏ —É–≥–ª–∞–º–∏
                `;
        }
      }

      // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
      document
        .getElementById('titleInput')
        .addEventListener('input', function () {
          document.getElementById('mainTitle').textContent = this.value;
        });

      document
        .getElementById('benefitsInput')
        .addEventListener('input', function () {
          const lines = this.value
            .split('\n')
            .filter(line => line.trim() !== '');
          const ul = document.querySelector('#benefitsList ul');
          ul.innerHTML = '';

          lines.forEach(line => {
            const li = document.createElement('li');
            li.textContent = line.trim();
            ul.appendChild(li);
          });
        });

      document
        .getElementById('logoInput')
        .addEventListener('input', function () {
          document.getElementById('brandLogo').textContent = this.value;
        });

      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–æ–≤
      document.querySelectorAll('.color-option').forEach(option => {
        option.addEventListener('click', function () {
          const target = this.getAttribute('data-target');
          const color = this.getAttribute('data-color');

          // –£–¥–∞–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –æ–ø—Ü–∏–π –≤ —Ç–æ–π –∂–µ –≥—Ä—É–ø–ø–µ
          const parent = this.parentElement;
          parent.querySelectorAll('.color-option').forEach(opt => {
            opt.classList.remove('active');
          });

          // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –æ–ø—Ü–∏–∏
          this.classList.add('active');

          // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ü–≤–µ—Ç –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
          const targetElement =
            target === 'benefits'
              ? document.getElementById('benefitsList')
              : document.getElementById('mainTitle');

          if (color === 'blue-green') {
            targetElement.style.background =
              'linear-gradient(135deg, #2C5AA0 0%, #3D968C 100%)';
          } else if (color === 'green') {
            targetElement.style.background =
              'linear-gradient(135deg, #3D968C 0%, #2a6b64 100%)';
          } else if (color === 'orange') {
            targetElement.style.background =
              'linear-gradient(135deg, #F59B3A 0%, #e8851c 100%)';
          } else if (color === 'lime-green') {
            targetElement.style.background =
              'linear-gradient(135deg, #98C41E 0%, #3D968C 100%)';
          } else if (color === 'light-green') {
            targetElement.style.background =
              'linear-gradient(135deg, #B5E3DC 0%, #3D968C 100%)';
          }
        });
      });
      function togglePlayButton() {
        const showButton = document.getElementById('showPlayButton').checked;
        document.querySelectorAll('.play-button').forEach(button => {
          button.style.display = showButton ? 'flex' : 'none';
        });
      }
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ–Ω–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
      document
        .getElementById('backgroundInput')
        .addEventListener('change', function (e) {
          const file = e.target.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
              const overlay = document.getElementById('backgroundOverlay');
              overlay.style.backgroundImage = `url(${e.target.result})`;
              overlay.style.opacity = '0.3';

              // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –ª–µ–π–±–ª–∞
              document.querySelector('.file-input-label').textContent =
                `‚úì ${file.name}`;
            };
            reader.readAsDataURL(file);
          }
        });

      // –°–±—Ä–æ—Å —Ñ–æ–Ω–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
      function resetBackground() {
        const overlay = document.getElementById('backgroundOverlay');
        overlay.style.backgroundImage = 'none';
        overlay.style.opacity = '0';

        document.getElementById('backgroundInput').value = '';
        document.querySelector('.file-input-label').textContent =
          'üìé –í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è —Ñ–æ–Ω–∞';
      }

      // –§—É–Ω–∫—Ü–∏—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
      async function downloadThumbnail() {
        try {
          // –ó–∞–≥—Ä—É–∂–∞–µ–º html2canvas –µ—Å–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω
          if (typeof html2canvas === 'undefined') {
            const script = document.createElement('script');
            script.src =
              'https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js';
            script.onload = () => downloadThumbnail();
            document.head.appendChild(script);
            return;
          }

          const canvas = document.getElementById('canvas');

          // –ü–æ–ª—É—á–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
          const format = document.querySelector(
            'input[name="exportFormat"]:checked'
          ).value;

          // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–∞–∑–º–µ—Ä—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞
          const isVertical = currentFormat === 'vertical';
          const width = isVertical ? 720 : 1280;
          const height = isVertical ? 1280 : 720;

          // –°–æ–∑–¥–∞–µ–º canvas —Å –≤—ã—Å–æ–∫–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º
          const canvasEl = await html2canvas(canvas, {
            width: width,
            height: height,
            scale: 2, // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –º–∞—Å—à—Ç–∞–± –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
            backgroundColor: null, // –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω
            logging: false,
            useCORS: true,
            allowTaint: true,
            removeContainer: true,
            imageTimeout: 15000,
            onclone: function (clonedDoc) {
              // –£–±–∏—Ä–∞–µ–º transform –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
              const clonedCanvas = clonedDoc.getElementById('canvas');
              clonedCanvas.style.transform = 'none';
              clonedCanvas.style.margin = '0';
            }
          });

          // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
          let dataURL, fileName, fileExtension;
          const timestamp = new Date()
            .toISOString()
            .slice(0, 16)
            .replace(/[:]/g, '-');
          const formatSuffix = isVertical ? 'vertical' : 'horizontal';

          if (format === 'jpeg') {
            dataURL = canvasEl.toDataURL('image/jpeg', 0.9); // –ö–∞—á–µ—Å—Ç–≤–æ 90%
            fileExtension = 'jpg';
            fileName = `mastermarat-thumbnail-${formatSuffix}-${timestamp}.jpg`;
          } else {
            dataURL = canvasEl.toDataURL('image/png', 1.0);
            fileExtension = 'png';
            fileName = `mastermarat-thumbnail-${formatSuffix}-${timestamp}.png`;
          }

          // –°–æ–∑–¥–∞–µ–º download link
          const link = document.createElement('a');
          link.download = fileName;
          link.href = dataURL;
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);

          const dimensions = `${width}√ó${height}`;
          console.log(
            `Thumbnail —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –∫–∞–∫ ${fileExtension.toUpperCase()} ${dimensions} (${formatSuffix})`
          );
        } catch (error) {
          console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ:', error);
          alert(
            '–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ thumbnail. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä.'
          );
        }
      }
      window.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('.play-button').forEach(button => {
          button.style.display = 'none';
        });
      });
    </script>
  </body>
</html>
